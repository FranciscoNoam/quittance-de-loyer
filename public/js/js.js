var _0x2c66ef=_0x356c;function _0x3b5c(){var e=["#pwd","2MGDxap","#loading_page_progress","#cfrnpassword","then","status","18EgujwF","json","css",'<h5 class="text-white px-1 py-1"> Success  </h5>',"42FhbQoZ","2435270GEnPWz","Un email est envoyé via l'adresse email","#emailforgotpwd","POST","252674umlnzB","1590906gajPYB","4pApHSA","application/json","456324OQerYu","/api/change&the-customer&s&password/pwd","#forgot-password","stringify","Password invalid","none","429pTeTZP","display","html","Reset password","#password","val","315464XoyNRP","catch","Email invalid","error","Data invalid","host","length","9655yqzySu","block","match","2434487lgbMIS","protocol","Loading......","7BSpYtD","location","click","#forgot_password","message","Champs invalid"];return(_0x3b5c=function(){return e})()}function toastSuccess(e){var t=_0x356c;toastr.success(""+e,t(106),{positionClass:"position-absolute top-50 start-50 translate-middle-x",timeout:4e3,rtl:!1})}function toastError(e){toastr[_0x356c(131)](""+e,'<h5 class="text-white px-1 py-1"> Error </h5>',{positionClass:"position-absolute top-50 start-50 translate-middle-x",timeout:4e3,rtl:!1})}!function(){for(var e=_0x356c,t=_0x3b5c();;)try{if(289406==-parseInt(e(148))*(-parseInt(e(112))/2)+-parseInt(e(113))/3*(-parseInt(e(114))/4)+-parseInt(e(135))/5*(-parseInt(e(107))/6)+parseInt(e(141))/7*(parseInt(e(128))/8)+-parseInt(e(103))/9*(-parseInt(e(108))/10)+parseInt(e(138))/11+parseInt(e(116))/12*(-parseInt(e(122))/13))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var validRegex=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;function _0x356c(e,t){var a=_0x3b5c();return(_0x356c=function(e,t){return a[e-=101]})(e,t)}function _0x1972(){const e=["#close-modal-update-bien","message","html","#descriptionbienupdt","loading_page","#table_appartement","760953EWAzLv","block","497890tVNvdI","#bieniddelete","390768qjGbNb","status","surface","json","val","application/json","#surfacebien","/bien/","pages/components/bien/index.ejs","1199DdZWEC","empty","3455755XmkcFE","#updatebien","#loyerbien","#deletebien","3066600KbxZvY","style","#token_","setAttribute","bien/","getElementById","dataTable","#addressebienupdt","#descriptionbien","#addressebien","#surfacebienupdt","9ZlZlFl","Veuillez remplir tous les champs","#close-modal-new-bien","name","render","#loyerbienupdt","then","8824312jofmmL","#contentWrapper","display","get","120EiSOwc","bienidupdate","#list-bien","none","loyer","GET","240633cGHdDX","POST","value","catch","bieniddelete","click","stringify","/biens/","PUT","28lETAPJ"];return(_0x1972=function(){return e})()}$(_0x2c66ef(144)).click(function(){var a=_0x2c66ef,e=($(a(149))[a(105)]("display",a(136)),$(a(110))[a(127)]());null!=e?""!=e?$(a(110))[a(127)]()[a(137)](validRegex)?fetch("/api/sendmail/forgot_password",{method:a(111),headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})})[a(101)](e=>{var t=a;if(e.ok)return e[t(104)]()})[a(101)](e=>{var t=a;$(t(149))[t(105)](t(123),"none"),200==e[t(102)]?toastSuccess(t(109)):toastError(e[t(145)])})[a(129)](e=>{var t=a;$("#loading_page_progress").css(t(123),t(121)),toastError(e[t(145)])}):($("#loading_page_progress")[a(105)]("display",a(121)),toastError(a(130))):($(a(149))[a(105)]("display",a(121)),toastError(a(146))):($("#loading_page_progress")[a(105)]("display",a(121)),toastError(a(146)))}),$(_0x2c66ef(118)).on(_0x2c66ef(143),function(){var e,a=_0x2c66ef,t=$(a(126))[a(127)](),n=$(a(150))[a(127)](),r=$(a(147)).val();""!=$(a(126))[a(127)]()&&""!=$(a(150)).val()&&null!=$("#password").val()&&null!=$(a(150))[a(127)]()&&null!=$("#pwd")[a(127)]()?$(a(126))[a(127)]()[a(134)]==$("#cfrnpassword").val().length?($(a(118)).html(a(140)),e=a(117),fetch(e,{method:"POST",headers:{"Content-Type":a(115)},body:JSON[a(119)]({password:t,confirm_password:n,token:r})}).then(e=>{if(e.ok)return e.json()}).then(e=>{var t=a;$(t(118))[t(124)](t(125)),200==e[t(102)]&&(toastSuccess(e[t(145)]),setInterval(function(){var e=t;window.location.replace(window[e(142)][e(139)]+"//"+window[e(142)][e(133)]+"/login")},2e3))})[a(129)](e=>{var t=a;toastError(e.message),$("#forgot-password")[t(124)](t(125))})):toastError(a(120)):toastError(a(132))});const _0x3a767d=_0x59b7;function _0x59b7(e,t){const a=_0x1972();return(_0x59b7=function(e,t){return e-=308,a[e]})(e,t)}async function loadBien(e){const a=_0x59b7,t=await fetch(a(315)+e,{method:a(370)}),n=await t[a(331)]();$[a(364)](a(336),function(e){var t=a,e=ejs.render(e,{listes:n});$(t(362)).empty(),$("#contentWrapper")[t(320)](e),$(t(323))[t(349)](),document.getElementById(t(322))[t(344)][t(363)]="none"})}async function refreshBien(e){const a=_0x59b7,t=await fetch(a(315)+e,{method:"GET"}),n=await t[a(331)]();$[a(364)]("pages/components/bien/bien.ejs",function(e){var t=a,e=ejs[t(358)](e,{listes:n});$(t(367))[t(338)](),$(t(367))[t(320)](e),$("#table_appartement")[t(349)](),document[t(348)](t(322))[t(344)][t(363)]=t(368)})}async function show_modal_update_bien(e){var t=_0x59b7;document[t(348)](t(366))[t(346)](t(310),e);e=await(await fetch(t(335)+e,{method:t(370)}))[t(331)]();$("#descriptionbienupdt")[t(332)](e[t(357)]),$(t(353))[t(332)](e[t(330)]),$(t(359)).val(e[t(369)]),$("#addressebienupdt").val(e.address)}function show_modal_delete_bien(e){var t=_0x59b7;document[t(348)](t(312))[t(346)](t(310),e)}!function(){for(var e=_0x59b7,t=_0x1972();;)try{if(783555==-parseInt(e(324))+-parseInt(e(343))/2+parseInt(e(308))/3*(parseInt(e(317))/4)+-parseInt(e(339))/5+parseInt(e(365))/6*(-parseInt(e(328))/7)+parseInt(e(361))/8*(-parseInt(e(354))/9)+parseInt(e(326))/10*(parseInt(e(337))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$("#addnewbien").on(_0x3a767d(313),function(){const a=_0x3a767d;var e;document.getElementById("loading_page")[a(344)][a(363)]="block",null!=$("#descriptionbien")[a(332)]()&&""!=$("#surfacebien")[a(332)]()&&""!=$(a(341))[a(332)]()&&""!=$(a(352))[a(332)]()?(e=a(335)+$(a(345))[a(332)](),fetch(e,{method:a(309),headers:{"Content-Type":a(333)},body:JSON.stringify({name:$(a(351))[a(332)](),address:$(a(352))[a(332)](),surface:$(a(334))[a(332)](),loyer:$("#loyerbien").val()})})[a(360)](e=>{var t=a;if(e.ok)return e[t(331)]()})[a(360)](async e=>{var t=a;200==e[t(329)]?($(t(356))[t(313)](),toastSuccess(e[t(319)]),$(t(351))[t(332)](""),$(t(334)).val(""),$(t(341))[t(332)](""),$(t(352))[t(332)](""),refreshBien($("#token_")[t(332)]())):(toastError(e[t(319)]),document[t(348)](t(322))[t(344)][t(363)]="none")})[a(311)](e=>{var t=a;toastError(e.message),document[t(348)](t(322)).style[t(363)]=t(368)})):toastError(a(355))}),$(_0x3a767d(340)).on("click",function(){const a=_0x3a767d;var e;document[a(348)]("loading_page")[a(344)][a(363)]=a(325),null!=$(a(321))[a(332)]()&&""!=$(a(353))[a(332)]()&&""!=$(a(359))[a(332)]()&&""!=$(a(350))[a(332)]()?(e=a(335)+$("#bienidupdate")[a(332)](),fetch(e,{method:a(316),headers:{"Content-Type":a(333)},body:JSON[a(314)]({name:$(a(321))[a(332)](),address:$(a(350))[a(332)](),surface:$(a(353))[a(332)](),loyer:$("#loyerbienupdt")[a(332)]()})})[a(360)](e=>{if(e.ok)return e.json()})[a(360)](async e=>{var t=a;200==e[t(329)]?($(t(318))[t(313)](),toastSuccess(e[t(319)]),$(t(321))[t(332)](""),$(t(353)).val(""),$(t(359))[t(332)](""),$(t(350))[t(332)](""),refreshBien($(t(345))[t(332)]())):(toastError(e[t(319)]),document[t(348)]("loading_page")[t(344)][t(363)]=t(368))})[a(311)](e=>{var t=a;toastError(e[t(319)]),document.getElementById(t(322)).style[t(363)]="none"})):toastError(a(355))}),$(_0x3a767d(342)).on("click",function(){const a=_0x3a767d;var e;document[a(348)](a(322))[a(344)][a(363)]=a(325),null!=$(a(327))[a(332)]()&&""!=$(a(327))[a(332)]()?(e=a(347)+$(a(327))[a(332)](),fetch(e,{method:"DELETE",headers:{"Content-Type":a(333)},body:JSON.stringify({})})[a(360)](e=>{var t=a;if(e.ok)return e[t(331)]()})[a(360)](e=>{var t=a;200==e[t(329)]?(toastSuccess(e[t(319)]),$("#close-modal-delete-bien")[t(313)](),refreshBien($(t(345))[t(332)]())):(toastError(e[t(319)]),document[t(348)]("loading_page")[t(344)].display=t(368))})[a(311)](e=>{var t=a;toastError(e[t(319)]),document[t(348)](t(322))[t(344)][t(363)]="none"})):(toastError("Donnée invalide"),document.getElementById(a(322))[a(344)][a(363)]="none")});const _0x5e2762=_0x6c09;function _0x6c09(e,t){const a=_0x3b72();return(_0x6c09=function(e,t){return e-=470,a[e]})(e,t)}async function loadLocataire(e){const a=_0x6c09,t=await fetch(a(542)+e,{method:a(494)}),n=await t[a(527)]();$[a(485)]("pages/components/locataire/index.ejs",function(e){var t=a,e=ejs[t(470)](e,{listes:n});$(t(471)).empty(),$(t(471))[t(487)](e),$(t(539))[t(514)](),document[t(506)](t(532))[t(526)].display=t(531)})}async function refreshLocataire(e){const a=_0x6c09,t=await fetch(a(542)+e,{method:a(494)}),n=await t.json();$[a(485)]("pages/components/locataire/locataire.ejs",function(e){var t=a,e=ejs[t(470)](e,{listes:n});$("#list-locataire")[t(505)](),$("#list-locataire")[t(487)](e),$(t(539))[t(514)](),document.getElementById(t(532)).style[t(538)]="none"})}function _0x3b72(){const e=["</option>","then","835OBYDib","address","stringify","#lastnamelocataireupdt","7394800vJCBry","dataTable","#emaillocataireupdt","#token_","_id","#appartement_list_locataire","#lastnamelocataire","first_name","phone","2842941tJFxhN","#addresslocataire","length","/locataire/","style","json","704907rDDtdx","val","POST","none","loading_page","Aucun appartement trouvé","locataireiddelete","#firstnamelocataireupdt","status","locataire/","display","#table_appartement","#emaillocataire","#phonelocataire","/locataires/","DELETE","render","#contentWrapper","setAttribute","154882RSIksE","1012030CkRZIF","message_list_appartement","11852550ENZUoo","#close-modal-update-locataire",'<option value="',"message","Veuillez remplir tous les champs","#locataireiddelete","PUT","click","#locataireidupdate","get","innerHTML","html","name","#updatelocataire","application/json","value","#close-modal-delete-locataire","block","GET","/biens/","bien","#phonelocataireupdt","24EhoLDj","locataireidupdate","#addresslocataireupt","email","catch","#appartement_list_locataireupdt","16360XZkHoC","empty","getElementById"];return(_0x3b72=function(){return e})()}async function add_new_locataire(){var t=_0x6c09,a=await(await fetch(t(495)+$(t(516))[t(529)](),{method:t(494)}))[t(527)]();if(0<a.length){var n="";for(let e=0;e<a[t(524)];e++){var r=a[e];n+=t(478)+r[t(517)]+'">'+r[t(488)]+t(507)}$(t(518))[t(505)](),$(t(518))[t(487)](n),document[t(506)]("message_list_appartement")[t(486)]=""}else document[t(506)](t(475))[t(486)]=t(533)}async function show_modal_update_locataire(e){var t=_0x6c09;document[t(506)](t(499))[t(472)](t(491),e);var a=await(await fetch(t(525)+e,{method:t(494)}))[t(527)]();$(t(535))[t(529)](a[t(520)]),$(t(512))[t(529)](a.last_name),$(t(500))[t(529)](a[t(510)]),$("#phonelocataireupdt").val(a[t(521)]),$(t(515))[t(529)](a[t(501)]);var n=await(await fetch("/biens/"+$(t(516)).val(),{method:t(494)})).json();if(0<n[t(524)]){var r="";for(let e=0;e<n[t(524)];e++){var o=n[e];o._id==a[t(496)][t(517)]?r+='<option value="'+o[t(517)]+'" selected>'+o[t(488)]+t(507):r+=t(478)+o[t(517)]+'">'+o[t(488)]+t(507)}$("#appartement_list_locataireupdt")[t(505)](),$(t(503)).html(r)}}function show_modal_delete_locataire(e){var t=_0x6c09;document[t(506)](t(534))[t(472)]("value",e)}function show_modal_new_quittance(e){new MultiSelectTag("list_bien_locataire")}!function(){for(var e=_0x6c09,t=_0x3b72();;)try{if(706292==-parseInt(e(474))+parseInt(e(473))/2+parseInt(e(522))/3+-parseInt(e(504))/4*(-parseInt(e(509))/5)+-parseInt(e(498))/6*(-parseInt(e(528))/7)+parseInt(e(513))/8+-parseInt(e(476))/9)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$("#addnewlocataire").on("click",function(){const a=_0x6c09;var e;document[a(506)](a(532))[a(526)].display="block",null!=$("#addresslocataire")[a(529)]()&&""!=$(a(541))[a(529)]()&&""!=$("#emaillocataire").val()&&""!=$(a(519))[a(529)]()?(e=a(525)+$("#token_")[a(529)](),fetch(e,{method:a(530),headers:{"Content-Type":a(490)},body:JSON[a(511)]({appartement:$(a(518)).find(":selected")[a(529)](),firstname:$("#firstnamelocataire")[a(529)](),lastname:$(a(519))[a(529)](),address:$(a(523)).val(),phone:$(a(541))[a(529)](),email:$(a(540))[a(529)]()})})[a(508)](e=>{var t=a;if(e.ok)return e[t(527)]()})[a(508)](async e=>{var t=a;200==e[t(536)]?($("#close-modal-new-locataire").click(),toastSuccess(e.message),$("#firstnamelocataire").val(""),$("#lastnamelocataire")[t(529)](""),$("#addresslocataire")[t(529)](""),$(t(541)).val(""),$("#emaillocataire")[t(529)](""),refreshLocataire($(t(516))[t(529)]())):(toastError(e[t(479)]),document[t(506)]("loading_page")[t(526)].display=t(531))})[a(502)](e=>{var t=a;toastError(e[t(479)]),document[t(506)](t(532))[t(526)].display=t(531)})):(toastError(a(480)),document.getElementById(a(532))[a(526)][a(538)]=a(531))}),$(_0x5e2762(489)).on(_0x5e2762(483),function(){const a=_0x5e2762;var e;document[a(506)](a(532))[a(526)][a(538)]=a(493),null!=$("#addresslocataireupt")[a(529)]()&&""!=$(a(497))[a(529)]()&&""!=$(a(515))[a(529)]()&&""!=$(a(512)).val()?(e=a(525)+$(a(484))[a(529)](),fetch(e,{method:a(482),headers:{"Content-Type":a(490)},body:JSON[a(511)]({appartement:$(a(503)).find(":selected")[a(529)](),firstname:$(a(535))[a(529)](),lastname:$("#lastnamelocataireupdt")[a(529)](),address:$(a(500))[a(529)](),phone:$(a(497))[a(529)](),email:$(a(515)).val()})})[a(508)](e=>{var t=a;if(e.ok)return e[t(527)]()})[a(508)](async e=>{var t=a;200==e[t(536)]?($(t(477)).click(),toastSuccess(e.message),$("#firstnamelocataireupdt").val(""),$(t(512))[t(529)](""),$(t(500))[t(529)](""),$("#phonelocataireupdt")[t(529)](""),$("#emaillocataireupdt")[t(529)](""),refreshLocataire($(t(516))[t(529)]())):(toastError(e[t(479)]),document[t(506)]("loading_page").style[t(538)]=t(531))}).catch(e=>{var t=a;toastError(e.message),document.getElementById(t(532)).style[t(538)]="none"})):toastError(a(480))}),$("#deletelocataire").on(_0x5e2762(483),function(){const a=_0x5e2762;var e;document.getElementById(a(532))[a(526)][a(538)]="block",null!=$("#locataireiddelete")[a(529)]()&&""!=$(a(481))[a(529)]()?(e=a(537)+$(a(481))[a(529)](),fetch(e,{method:a(543),headers:{"Content-Type":a(490)},body:JSON[a(511)]({})})[a(508)](e=>{var t=a;if(e.ok)return e[t(527)]()}).then(e=>{var t=a;200==e[t(536)]?(toastSuccess(e.message),$(t(492)).click(),refreshLocataire($("#token_")[t(529)]())):(toastError(e[t(479)]),document[t(506)]("loading_page").style[t(538)]="none")})[a(502)](e=>{var t=a;toastError(e[t(479)]),document[t(506)]("loading_page")[t(526)][t(538)]=t(531)})):(toastError("Donnée invalide"),document.getElementById("loading_page").style[a(538)]=a(531))});var _0x3f3f33=_0x544d;function _0x3039(){var e=["display","18716RaOfuU","#menuBien","vg-active","click","style","loading_page","6XnUDGt","#token_","getElementById","block","removeClass","val","30ALRrFn","4384968Yyixlb","#menuquittance","#menuLocataire","9254151iCTSkc","50560059HgrNCq","11209208kiQhvv","270pleqFI","ready","10mUqBfk","58232IWSatL","2781186RijRYX"];return(_0x3039=function(){return e})()}!function(){for(var e=_0x544d,t=_0x3039();;)try{if(740195==-parseInt(e(407))*(parseInt(e(417))/2)+-parseInt(e(418))/3+-parseInt(e(420))/4*(parseInt(e(414))/5)+parseInt(e(426))/6*(parseInt(e(408))/7)+-parseInt(e(413))/8+-parseInt(e(411))/9+parseInt(e(416))/10*(parseInt(e(412))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var ElMenuBien=$("#menuBien"),ElMenuLocataire=$(_0x3f3f33(410)),ElMenuquittance=$(_0x3f3f33(409));function _0x544d(e,t){var a=_0x3039();return(_0x544d=function(e,t){return a[e-=407]})(e,t)}function actionmen(e,t,a){var n=_0x3f3f33;$(e).addClass("vg-active"),$(t)[n(430)](n(422)),$(a)[n(430)](n(422))}function toastSuccess(e){var t=_0x5010;toastr[t(324)](""+e,t(317),{positionClass:t(312),timeout:2e3,rtl:!1})}function toastWarning(e){var t=_0x5010;toastr.error(""+e,t(328),{positionClass:t(312),timeout:2e3,rtl:!1})}function _0x5010(e,t){var a=_0x2046();return(_0x5010=function(e,t){return a[e-=312]})(e,t)}function _0x2046(){var e=["581049DEapwE","3862ApuAVT","33530MTPIqQ",'<h5 class="text-white px-1 py-1"> Error </h5>',"success","16OXMLME","1615836WDTKgG","80kAFjZM",'<h5 class="text-white px-2 py-2"><i class="feather fa fa-info-circle me-2"></i> Error  </h5>',"error","position-absolute top-50 start-50 translate-middle-x","2483304NqQsrJ","77sCQEIa","275OVSBSA","48366QGMpqx",'<h5 class="text-white px-1 py-1"> Success  </h5>',"167nSijYt","301480iiEJGc"];return(_0x2046=function(){return e})()}function toastError(e){var t=_0x5010;toastr[t(329)](""+e,t(323),{positionClass:t(312),timeout:2e3,rtl:!1})}$(document)[_0x3f3f33(415)](function(){actionmen(ElMenuBien,ElMenuLocataire,ElMenuquittance)}),$(_0x3f3f33(421)).on("click",async function(){var e=_0x3f3f33;document[e(428)]("loading_page")[e(424)].display=e(429),actionmen(this,ElMenuLocataire,ElMenuquittance),loadBien($(e(427))[e(431)]())}),$(_0x3f3f33(410)).on(_0x3f3f33(423),async function(){var e=_0x3f3f33;document[e(428)](e(425))[e(424)].display=e(429),actionmen(this,ElMenuBien,ElMenuquittance),loadLocataire($("#token_").val())}),$("#menuquittance").on(_0x3f3f33(423),async function(){var e=_0x3f3f33;document[e(428)]("loading_page")[e(424)][e(419)]="block",actionmen(this,ElMenuBien,ElMenuLocataire),loadquittance($("#token_")[e(431)]())}),function(){for(var e=_0x5010,t=_0x2046();;)try{if(287388==-parseInt(e(318))*(-parseInt(e(321))/2)+parseInt(e(326))/3+-parseInt(e(319))/4+parseInt(e(315))/5*(parseInt(e(316))/6)+parseInt(e(322))/7*(-parseInt(e(325))/8)+-parseInt(e(320))/9*(-parseInt(e(327))/10)+parseInt(e(314))/11*(-parseInt(e(313))/12))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var _0x21b4a2=_0x55d8;async function loadquittance(e){var a=_0x55d8;const t=await fetch(a(509)+e,{method:"GET"}),n=await t[a(470)]();$[a(442)]("pages/components/quittance/index.ejs",function(e){var t=a,e=ejs[t(487)](e,{listes:n});$(t(466)).empty(),$(t(466))[t(494)](e),$(t(468))[t(446)](),document[t(502)]("loading_page")[t(456)].display=t(514)})}async function refreshquittance(e){var a=_0x55d8;const t=await fetch(a(509)+e,{method:a(448)}),n=await t[a(470)]();$[a(442)](a(485),function(e){var t=a,e=ejs.render(e,{listes:n});$(t(484)).empty(),$(t(484))[t(494)](e),$(t(468))[t(446)](),document[t(502)](t(447))[t(456)][t(474)]=t(514)})}async function newquittance(){var a=_0x55d8;document[a(502)](a(447)).style[a(474)]=a(444);const e=await fetch("/locataires/"+$(a(481)).val(),{method:a(448)}),n=await e.json(),t=await fetch(a(459),{method:a(448)}),r=await t.json();$.get(a(464),function(e){var t=a,e=ejs.render(e,{paiements:r,locataires:n});$(t(466))[t(477)](),$("#contentWrapper").html(e),document[t(502)](t(447))[t(456)].display="none"})}function _0x2581(){var e=["then","#month_rental","empty","1936740yvZbPO","message"," <p> avec une surface de ","#token_","/facture/",'[name="charge[]"]',"#list-quinttage","pages/components/quittance/quittance.ejs",'<option value="',"render","842863DiCuOF","6AhbKBV",".result_montant_ttc","ajax","status","#pu","html","catch","name","#ref","POST","#quittanceiddelete","1860656mSHGal",'[name="tva[]"]',"getElementById","/locataire/","#list_bien","4LyVpQV","facture/"," </p>","/detail-quittance/","/factures/","9594780lqRWbI","application/json","find","#close-modal-delete-quittance","none","#name_appartement","each","get","3600972VdQADn","block","click","dataTable","loading_page","GET","#total_ht","#tva","14tNHDha","bien","#charge"," AR","#locataire_id_list","style","29742RHdojK","872724QYBlnL","/type_paiements","Donnée invalide","val",".result_montant","quittanceiddelete","pages/components/quittance/nouveau_quittance.ejs","DELETE","#contentWrapper","#form-bon-commande tr","#table_appartement","#total_tva","json","#total_ttc",":selected","#deletequittance","display"];return(_0x2581=function(){return e})()}async function get_appartement(){var e,t=_0x55d8,a=await(await fetch(t(503)+$(t(455))[t(512)](":selected")[t(461)](),{method:"GET"}))[t(470)]();a&&(e="",e+=t(486)+a.bien._id+'">'+a[t(452)].name+"</option>",$(t(504))[t(477)](),$(t(504)).html(e),e="",e=(e+=a[t(452)][t(496)])+(t(480)+a[t(452)].surface+t(507)),$(t(515))[t(477)](),$(t(515))[t(494)](e),$(t(493)).val(a[t(452)].loyer),calcule_tarif())}function calcule_tarif(){var o=_0x55d8,s=0,i=0,c=0,l=0;$(o(467))[o(516)](function(){var e=o,t=parseFloat($(this).find('[name="pu[]"]')[e(461)]())||0,a=parseFloat($(this)[e(512)](e(483)).val())||0,t=a+t,n=(t=t<=0?0:t)*(parseFloat($(this)[e(512)](e(501)).val())||0)/100,r=t+(n=n<=0?0:n);s+=t,i+=a,c+=n,l+=r,$(this)[e(512)](e(462)).text(t+e(454)),$(this)[e(512)](e(490)).text(r+" AR")}),$(o(449))[o(494)](s+o(454)),$("#total_charge").html(i+" AR"),$(o(469))[o(494)](c+o(454)),$(o(471))[o(494)](l+o(454))}function save_quittance(){var a=_0x55d8,e=(document[a(502)](a(447))[a(456)][a(474)]=a(444),{ref:$(a(497))[a(461)](),charge:$(a(453))[a(461)](),invoice_date:$("#invoice_date")[a(461)](),due_date:$("#due_date")[a(461)](),month_rental:$(a(476))[a(461)](),pu:$(a(493)).val(),tva:$(a(450))[a(461)](),type_paiement:$("#type_paiements").find(a(472)).val(),bien:$("#list_bien")[a(512)](":selected")[a(461)](),locataire:$("#locataire_id_list").find(a(472))[a(461)]()});$[a(491)]({type:a(498),url:a(482)+$(a(481))[a(461)](),data:e,dataType:a(470),success:function(e){var t=a;200==e.status?(document[t(502)](t(447))[t(456)][t(474)]="none",loadquittance($(t(481)).val())):(document[t(502)](t(447))[t(456)][t(474)]=t(514),toastError(e.message))},error:function(e){var t=a;document[t(502)](t(447))[t(456)][t(474)]=t(514),toastError(e[t(479)])}})}function sendEmail(t){var n=_0x55d8;document[n(502)](n(447))[n(456)][n(474)]=n(444),$[n(491)]({type:n(448),url:n(508)+t,success:function(e){var a=n;$[a(491)]({type:"POST",url:"/send-mail-locataire/"+t,data:{htmlContent:e},success:function(e){var t=a;document[t(502)](t(447))[t(456)][t(474)]="none",200==e.status?toastSuccess(e.message):toastError(e[t(479)])},error:function(e){var t=a;document[t(502)](t(447)).style[t(474)]=t(514),toastError(e[t(479)])}})},error:function(e){document[n(502)]("loading_page").style.display="none",toastError(e.message)}})}function _0x55d8(e,t){var a=_0x2581();return(_0x55d8=function(e,t){return a[e-=442]})(e,t)}function show_modal_delete_quittance(e){var t=_0x55d8;document.getElementById(t(463)).setAttribute("value",e)}function search(){var e=_0x24d2,t=$(e(413))[e(399)](),a=document.getElementById(e(407));t[e(414)](a[e(408)])[e(395)]()}async function connected(){var t=_0x24d2;try{var e=await(await fetch(t(402),{method:t(391)}))[t(396)]();e&&($(t(393))[t(397)](e.first_name+" "+e.last_name),$(t(403))[t(397)](e.username),$(t(390)).html(e.phone),$("#token_").attr(t(408),""+e[t(398)]),loadBien(e[t(398)]))}catch(e){toastError(e[t(411)])}}function _0x24d2(e,t){var a=_0x3023();return(_0x24d2=function(e,t){return a[e-=390]})(e,t)}function _0x3023(){var e=["89910HZKGlq","#name_user_connected","3hKcfiG","draw","json","html","_id","DataTable","246567tvxrci","533022ZDXDAO","/user-connected","#email_user_connected","343881TTAKtM","2837418mPIzmE","207382mDzoRN","searchContact","value","1551cPigKu","136JMYmuU","message","2182588jJDOgm","#table_appartement,#table_member,#table_contact_team , #table_contact, #table_call_history","search","10OfzUvp","#phone_user_connected","GET"];return(_0x3023=function(){return e})()}!function(){for(var e=_0x55d8,t=_0x2581();;)try{if(201481==-parseInt(e(451))*(-parseInt(e(457))/2)+-parseInt(e(458))/3*(parseInt(e(505))/4)+-parseInt(e(478))/5+parseInt(e(489))/6*(-parseInt(e(488))/7)+parseInt(e(500))/8+-parseInt(e(443))/9+parseInt(e(510))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(_0x21b4a2(473)).on("click",function(){var e,a=_0x21b4a2;document[a(502)](a(447))[a(456)].display=a(444),null!=$("#quittanceiddelete").val()&&""!=$("#quittanceiddelete")[a(461)]()?(e=a(506)+$(a(499))[a(461)](),fetch(e,{method:a(465),headers:{"Content-Type":a(511)},body:JSON.stringify({})})[a(475)](e=>{var t=a;if(e.ok)return e[t(470)]()})[a(475)](e=>{var t=a;200==e[t(492)]?(toastSuccess(e[t(479)]),$(t(513))[t(445)](),refreshquittance($("#token_")[t(461)]())):(toastError(e[t(479)]),document[t(502)](t(447)).style[t(474)]=t(514))})[a(495)](e=>{var t=a;toastError(e[t(479)]),document[t(502)](t(447))[t(456)][t(474)]=t(514)})):(toastError(a(460)),document.getElementById(a(447)).style[a(474)]=a(514))}),function(){for(var e=_0x24d2,t=_0x3023();;)try{if(492131==+parseInt(e(400))+parseInt(e(406))/2+parseInt(e(394))/3*(parseInt(e(412))/4)+parseInt(e(415))/5*(-parseInt(e(405))/6)+-parseInt(e(401))/7+parseInt(e(410))/8*(-parseInt(e(404))/9)+parseInt(e(392))/10*(parseInt(e(409))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(document).ready(function(){connected()});