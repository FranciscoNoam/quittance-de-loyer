var _0x4d8652=_0xf77f;function _0xf77f(e,t){var a=_0x36b7();return(_0xf77f=function(e,t){return a[e-=442]})(e,t)}function toastSuccess(e){var t=_0xf77f;toastr[t(474)](""+e,t(453),{positionClass:t(468),timeout:4e3,rtl:!1})}function _0x36b7(){var e=["POST","length","val","#forgot-password","#loading_page_progress","5692609eEtPeC","stringify","catch","json","position-absolute top-50 start-50 translate-middle-x","Data invalid","4NmhfOX","none","application/json","click","success","1266606Pheosd","40lKMOMX","141175htgThF","12hVGpsl","match","164klEChb","css","#pwd","288890YOxsrL","Email invalid","#cfrnpassword","then","status","1677069Csnyot","#password","location","message","/api/change&the-customer&s&password/pwd","5035317sHmFYf","replace","21eohicD","display","Loading......","Un email est envoyé via l'adresse email","/login","Password invalid","html","block",'<h5 class="text-white px-1 py-1"> Success  </h5>',"50NYvPDm","protocol","439272efUEUX","Reset password","#emailforgotpwd"];return(_0x36b7=function(){return e})()}function toastError(e){toastr.error(""+e,'<h5 class="text-white px-1 py-1"> Error </h5>',{positionClass:"position-absolute top-50 start-50 translate-middle-x",timeout:4e3,rtl:!1})}!function(){for(var e=_0xf77f,t=_0x36b7();;)try{if(960866==-parseInt(e(470))*(-parseInt(e(483))/2)+parseInt(e(443))/3+-parseInt(e(480))/4*(parseInt(e(477))/5)+-parseInt(e(456))/6*(parseInt(e(445))/7)+-parseInt(e(476))/8*(parseInt(e(488))/9)+parseInt(e(454))/10*(parseInt(e(475))/11)+parseInt(e(478))/12*(parseInt(e(464))/13))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var validRegex=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;$("#forgot_password")[_0x4d8652(473)](function(){var a=_0x4d8652,e=($("#loading_page_progress").css("display",a(452)),$(a(458)).val());null!=e?""!=e?$(a(458)).val()[a(479)](validRegex)?fetch("/api/sendmail/forgot_password",{method:a(459),headers:{"Content-Type":a(472)},body:JSON[a(465)]({email:e})})[a(486)](e=>{var t=a;if(e.ok)return e[t(467)]()}).then(e=>{var t=a;$(t(463)).css(t(446),t(471)),200==e[t(487)]?toastSuccess(t(448)):toastError(e[t(491)])})[a(466)](e=>{var t=a;$(t(463))[t(481)](t(446),"none"),toastError(e[t(491)])}):($(a(463))[a(481)](a(446),"none"),toastError(a(484))):($(a(463)).css(a(446),"none"),toastError("Champs invalid")):($("#loading_page_progress")[a(481)](a(446),a(471)),toastError("Champs invalid"))}),$(_0x4d8652(462)).on(_0x4d8652(473),function(){var e,a=_0x4d8652,t=$(a(489))[a(461)](),n=$(a(485))[a(461)](),r=$(a(482))[a(461)]();""!=$(a(489))[a(461)]()&&""!=$(a(485)).val()&&null!=$(a(489))[a(461)]()&&null!=$("#cfrnpassword")[a(461)]()&&null!=$(a(482))[a(461)]()?$(a(489))[a(461)]()[a(460)]==$("#cfrnpassword").val()[a(460)]?($("#forgot-password")[a(451)](a(447)),e=a(442),fetch(e,{method:"POST",headers:{"Content-Type":a(472)},body:JSON[a(465)]({password:t,confirm_password:n,token:r})})[a(486)](e=>{var t=a;if(e.ok)return e[t(467)]()})[a(486)](e=>{var t=a;$(t(462)).html("Reset password"),200==e[t(487)]&&(toastSuccess(e[t(491)]),setInterval(function(){var e=t;window[e(490)][e(444)](window[e(490)][e(455)]+"//"+window[e(490)].host+e(449))},2e3))})[a(466)](e=>{var t=a;toastError(e[t(491)]),$(t(462))[t(451)](t(457))})):toastError(a(450)):toastError(a(469))});const _0x52c0ea=_0x1589;function _0x1bf8(){const e=["1386081dzAZIp","Veuillez remplir tous les champs","#table_appartement","loading_page","2375144XBBECu","/bien/","#bienidupdate","setAttribute","#close-modal-new-bien","val","bien/","loyer","#loyerbienupdt","2633864elmaFA","#descriptionbien","#surfacebien","bienidupdate","stringify","/biens/","pages/components/bien/bien.ejs","#token_","style","json","#surfacebienupdt","#deletebien","9McptzJ","getElementById","get","#addressebienupdt","735090SKTjXz","render","empty","html","none","1570060hoovhs","#updatebien","application/json","#addressebien","status","click","#bieniddelete","catch","6prTOfi","bieniddelete","#loyerbien","24024860GDLKEP","#close-modal-delete-bien","#addnewbien","GET","block","value","then","message","#descriptionbienupdt","7MnudsF","address","253508SzVheu","display","#list-bien","pages/components/bien/index.ejs","DELETE","#close-modal-update-bien"];return(_0x1bf8=function(){return e})()}async function loadBien(e){const a=_0x1589,t=await fetch(a(339)+e,{method:a(369)}),n=await t[a(343)]();$[a(348)](a(380),function(e){var t=a,e=ejs[t(351)](e,{listes:n});$("#contentWrapper")[t(352)](),$("#contentWrapper")[t(353)](e),$(t(385)).dataTable(),document[t(347)](t(386))[t(342)][t(378)]="none"})}async function refreshBien(e){const a=_0x1589,t=await fetch("/biens/"+e,{method:a(369)}),n=await t[a(343)]();$.get(a(340),function(e){var t=a,e=ejs[t(351)](e,{listes:n});$(t(379))[t(352)](),$(t(379)).html(e),$(t(385)).dataTable(),document[t(347)](t(386))[t(342)][t(378)]="none"})}async function show_modal_update_bien(e){var t=_0x1589;document[t(347)](t(337))[t(390)](t(371),e);e=await(await fetch("/bien/"+e,{method:"GET"}))[t(343)]();$("#descriptionbienupdt")[t(392)](e.name),$(t(344))[t(392)](e.surface),$(t(395))[t(392)](e[t(394)]),$(t(349)).val(e[t(376)])}function _0x1589(e,t){const a=_0x1bf8();return(_0x1589=function(e,t){return e-=334,a[e]})(e,t)}function show_modal_delete_bien(e){var t=_0x1589;document[t(347)](t(364))[t(390)](t(371),e)}function _0x223b(){const e=["val","GET","/locataires/","block","#token_","692467AjPcal","then","2405130LzAhqi","innerHTML","loading_page","Veuillez remplir tous les champs","#phonelocataireupdt","locataireiddelete","85582krUyiQ","2LvcUGH","catch","click","#addresslocataireupt","#close-modal-update-locataire","none","/locataire/","getElementById","#emaillocataire","render","stringify","style","bien","#contentWrapper","length","2678046mNNfNA","PUT","setAttribute","get","#firstnamelocataireupdt","json","#appartement_list_locataireupdt","#locataireiddelete","dataTable","empty","html","last_name","display","application/json","1892040gseBXG","#lastnamelocataire","message",'" selected>',"address","#close-modal-new-locataire",":selected","value","locataire/",'<option value="',"471132sMiAPw","DELETE","POST","Aucun appartement trouvé","#deletelocataire","_id","/biens/","phone","#lastnamelocataireupdt","</option>","400iSnPYi","#table_appartement","#updatelocataire","pages/components/locataire/locataire.ejs","status","message_list_appartement","180dRcJpV","2999536TcTWHD","#addresslocataire","#list-locataire","#emaillocataireupdt","#appartement_list_locataire","name","#firstnamelocataire","#close-modal-delete-locataire","#addnewlocataire","find"];return(_0x223b=function(){return e})()}!function(){for(var e=_0x1589,t=_0x1bf8();;)try{if(403030==-parseInt(e(350))+-parseInt(e(377))/2+-parseInt(e(383))/3+-parseInt(e(334))/4+parseInt(e(355))/5*(-parseInt(e(363))/6)+-parseInt(e(375))/7*(-parseInt(e(387))/8)+-parseInt(e(346))/9*(-parseInt(e(366))/10))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(_0x52c0ea(368)).on(_0x52c0ea(360),function(){const a=_0x52c0ea;var e;document.getElementById(a(386))[a(342)][a(378)]=a(370),null!=$(a(335))[a(392)]()&&""!=$(a(336)).val()&&""!=$(a(365))[a(392)]()&&""!=$(a(358))[a(392)]()?(e=a(388)+$(a(341))[a(392)](),fetch(e,{method:"POST",headers:{"Content-Type":a(357)},body:JSON[a(338)]({name:$(a(335))[a(392)](),address:$(a(358))[a(392)](),surface:$(a(336)).val(),loyer:$("#loyerbien")[a(392)]()})}).then(e=>{var t=a;if(e.ok)return e[t(343)]()}).then(async e=>{var t=a;200==e[t(359)]?($(t(391)).click(),toastSuccess(e[t(373)]),$(t(335))[t(392)](""),$(t(336))[t(392)](""),$(t(365))[t(392)](""),$(t(358))[t(392)](""),refreshBien($(t(341))[t(392)]())):(toastError(e[t(373)]),document[t(347)](t(386)).style[t(378)]=t(354))})[a(362)](e=>{var t=a;toastError(e[t(373)]),document[t(347)](t(386))[t(342)][t(378)]=t(354)})):toastError("Veuillez remplir tous les champs")}),$(_0x52c0ea(356)).on(_0x52c0ea(360),function(){const a=_0x52c0ea;var e;document[a(347)](a(386))[a(342)].display="block",null!=$(a(374))[a(392)]()&&""!=$(a(344))[a(392)]()&&""!=$(a(395))[a(392)]()&&""!=$(a(349)).val()?(e="/bien/"+$(a(389))[a(392)](),fetch(e,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON[a(338)]({name:$(a(374))[a(392)](),address:$(a(349)).val(),surface:$("#surfacebienupdt")[a(392)](),loyer:$(a(395))[a(392)]()})}).then(e=>{var t=a;if(e.ok)return e[t(343)]()})[a(372)](async e=>{var t=a;200==e[t(359)]?($(t(382)).click(),toastSuccess(e[t(373)]),$(t(374))[t(392)](""),$("#surfacebienupdt")[t(392)](""),$(t(395))[t(392)](""),$("#addressebienupdt")[t(392)](""),refreshBien($("#token_")[t(392)]())):(toastError(e[t(373)]),document[t(347)](t(386))[t(342)][t(378)]=t(354))})[a(362)](e=>{var t=a;toastError(e[t(373)]),document[t(347)](t(386))[t(342)][t(378)]=t(354)})):toastError(a(384))}),$(_0x52c0ea(345)).on(_0x52c0ea(360),function(){const a=_0x52c0ea;var e;document[a(347)]("loading_page")[a(342)][a(378)]=a(370),null!=$(a(361))[a(392)]()&&""!=$("#bieniddelete")[a(392)]()?(e=a(393)+$("#bieniddelete")[a(392)](),fetch(e,{method:a(381),headers:{"Content-Type":"application/json"},body:JSON[a(338)]({})})[a(372)](e=>{var t=a;if(e.ok)return e[t(343)]()})[a(372)](e=>{var t=a;200==e[t(359)]?(toastSuccess(e[t(373)]),$(t(367))[t(360)](),refreshBien($(t(341))[t(392)]())):(toastError(e[t(373)]),document[t(347)]("loading_page")[t(342)][t(378)]="none")})[a(362)](e=>{var t=a;toastError(e[t(373)]),document[t(347)](t(386))[t(342)][t(378)]=t(354)})):(toastError("Donnée invalide"),document[a(347)]("loading_page")[a(342)].display="none")});const _0x4408e3=_0x3d78;function _0x3d78(e,t){const a=_0x223b();return(_0x3d78=function(e,t){return e-=123,a[e]})(e,t)}async function loadLocataire(e){const a=_0x3d78,t=await fetch(a(187)+e,{method:a(186)}),n=await t[a(139)]();$[a(137)]("pages/components/locataire/index.ejs",function(e){var t=a,e=ejs.render(e,{listes:n});$(t(132)).empty(),$("#contentWrapper")[t(144)](e),$("#table_appartement").dataTable(),document[t(126)]("loading_page")[t(130)][t(146)]=t(124)})}async function refreshLocataire(e){const a=_0x3d78,t=await fetch("/locataires/"+e,{method:a(186)}),n=await t[a(139)]();$.get(a(171),function(e){var t=a,e=ejs[t(128)](e,{listes:n});$(t(177))[t(143)](),$(t(177))[t(144)](e),$(t(169))[t(142)](),document[t(126)](t(194))[t(130)][t(146)]=t(124)})}async function add_new_locataire(){var t=_0x3d78,a=await(await fetch("/biens/"+$(t(189))[t(185)](),{method:"GET"}))[t(139)]();if(0<a[t(133)]){var n="";for(let e=0;e<a[t(133)];e++){var r=a[e];n+=t(157)+r[t(163)]+'">'+r[t(180)]+"</option>"}$("#appartement_list_locataire").empty(),$(t(179))[t(144)](n),document[t(126)](t(173))[t(193)]=""}else document[t(126)](t(173)).innerHTML=t(161)}async function show_modal_update_locataire(e){var t=_0x3d78;document.getElementById("locataireidupdate")[t(136)](t(155),e);var a=await(await fetch(t(125)+e,{method:t(186)}))[t(139)]();$(t(138))[t(185)](a.first_name),$(t(166))[t(185)](a[t(145)]),$(t(202))[t(185)](a[t(152)]),$("#phonelocataireupdt")[t(185)](a[t(165)]),$(t(178))[t(185)](a.email);var n=await(await fetch(t(164)+$(t(189))[t(185)](),{method:t(186)}))[t(139)]();if(0<n[t(133)]){var r="";for(let e=0;e<n.length;e++){var o=n[e];o[t(163)]==a[t(131)][t(163)]?r+=t(157)+o[t(163)]+t(151)+o.name+t(167):r+='<option value="'+o._id+'">'+o[t(180)]+t(167)}$("#appartement_list_locataireupdt")[t(143)](),$("#appartement_list_locataireupdt")[t(144)](r)}}function show_modal_delete_locataire(e){var t=_0x3d78;document[t(126)](t(197))[t(136)](t(155),e)}function show_modal_new_quittance(e){new MultiSelectTag("list_bien_locataire")}!function(){for(var e=_0x3d78,t=_0x223b();;)try{if(492593==+parseInt(e(190))*(-parseInt(e(199))/2)+-parseInt(e(134))/3+parseInt(e(148))/4+-parseInt(e(192))/5+-parseInt(e(174))/6*(-parseInt(e(198))/7)+-parseInt(e(175))/8+-parseInt(e(158))/9*(-parseInt(e(168))/10))break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(_0x4408e3(183)).on("click",function(){const a=_0x4408e3;var e;document.getElementById("loading_page").style[a(146)]=a(188),null!=$(a(176))[a(185)]()&&""!=$("#phonelocataire")[a(185)]()&&""!=$(a(127)).val()&&""!=$(a(149)).val()?(e="/locataire/"+$(a(189)).val(),fetch(e,{method:a(160),headers:{"Content-Type":a(147)},body:JSON[a(129)]({appartement:$("#appartement_list_locataire")[a(184)](a(154))[a(185)](),firstname:$("#firstnamelocataire")[a(185)](),lastname:$(a(149))[a(185)](),address:$(a(176))[a(185)](),phone:$("#phonelocataire").val(),email:$(a(127)).val()})})[a(191)](e=>{var t=a;if(e.ok)return e[t(139)]()})[a(191)](async e=>{var t=a;200==e[t(172)]?($(t(153))[t(201)](),toastSuccess(e[t(150)]),$(t(181)).val(""),$(t(149)).val(""),$(t(176))[t(185)](""),$("#phonelocataire").val(""),$(t(127))[t(185)](""),refreshLocataire($(t(189))[t(185)]())):(toastError(e[t(150)]),document[t(126)]("loading_page")[t(130)][t(146)]=t(124))})[a(200)](e=>{var t=a;toastError(e[t(150)]),document[t(126)](t(194))[t(130)][t(146)]=t(124)})):(toastError(a(195)),document[a(126)](a(194)).style[a(146)]=a(124))}),$(_0x4408e3(170)).on(_0x4408e3(201),function(){const a=_0x4408e3;var e;document[a(126)](a(194))[a(130)][a(146)]=a(188),null!=$(a(202)).val()&&""!=$("#phonelocataireupdt").val()&&""!=$(a(178)).val()&&""!=$(a(166))[a(185)]()?(e=a(125)+$("#locataireidupdate")[a(185)](),fetch(e,{method:a(135),headers:{"Content-Type":a(147)},body:JSON[a(129)]({appartement:$(a(140))[a(184)](a(154)).val(),firstname:$(a(138)).val(),lastname:$(a(166)).val(),address:$(a(202))[a(185)](),phone:$("#phonelocataireupdt").val(),email:$("#emaillocataireupdt")[a(185)]()})})[a(191)](e=>{var t=a;if(e.ok)return e[t(139)]()}).then(async e=>{var t=a;200==e[t(172)]?($(t(123))[t(201)](),toastSuccess(e[t(150)]),$(t(138))[t(185)](""),$("#lastnamelocataireupdt")[t(185)](""),$(t(202))[t(185)](""),$(t(196))[t(185)](""),$(t(178))[t(185)](""),refreshLocataire($("#token_").val())):(toastError(e[t(150)]),document[t(126)](t(194))[t(130)][t(146)]=t(124))})[a(200)](e=>{var t=a;toastError(e[t(150)]),document.getElementById(t(194))[t(130)][t(146)]="none"})):toastError("Veuillez remplir tous les champs")}),$(_0x4408e3(162)).on(_0x4408e3(201),function(){const a=_0x4408e3;var e;document[a(126)](a(194))[a(130)][a(146)]=a(188),null!=$("#locataireiddelete")[a(185)]()&&""!=$(a(141)).val()?(e=a(156)+$(a(141)).val(),fetch(e,{method:a(159),headers:{"Content-Type":a(147)},body:JSON[a(129)]({})}).then(e=>{var t=a;if(e.ok)return e[t(139)]()})[a(191)](e=>{var t=a;200==e[t(172)]?(toastSuccess(e[t(150)]),$(t(182))[t(201)](),refreshLocataire($(t(189)).val())):(toastError(e.message),document[t(126)](t(194))[t(130)][t(146)]=t(124))}).catch(e=>{var t=a;toastError(e[t(150)]),document[t(126)](t(194)).style[t(146)]=t(124)})):(toastError("Donnée invalide"),document.getElementById(a(194))[a(130)].display=a(124))});var _0x59ad9d=_0x4cbf;function _0x4cbf(e,t){var a=_0x5bc1();return(_0x4cbf=function(e,t){return a[e-=178]})(e,t)}!function(){for(var e=_0x4cbf,t=_0x5bc1();;)try{if(298694==-parseInt(e(182))+-parseInt(e(187))/2*(parseInt(e(179))/3)+parseInt(e(200))/4*(parseInt(e(190))/5)+-parseInt(e(196))/6+parseInt(e(198))/7*(parseInt(e(202))/8)+parseInt(e(189))/9+-parseInt(e(199))/10*(-parseInt(e(183))/11))break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var ElMenuBien=$(_0x59ad9d(195)),ElMenuLocataire=$(_0x59ad9d(178)),ElMenuquittance=$(_0x59ad9d(188));function actionmen(e,t,a){var n=_0x59ad9d;$(e)[n(193)](n(201)),$(t).removeClass(n(201)),$(a)[n(180)](n(201))}function _0x5bc1(){var e=["408065CTGDmi","loading_page","block","addClass","style","#menuBien","1839348eWGhYR","ready","184765OhPtAa","350RfLAgi","20nDfCED","vg-active","8xqkbvv","click","#menuLocataire","18PsGrkr","removeClass","getElementById","390187BCmIiZ","250085RFsVup","display","val","#token_","190132AHbIWN","#menuquittance","3020850pgKmOZ"];return(_0x5bc1=function(){return e})()}function toastSuccess(e){var t=_0x29ac;toastr[t(277)](""+e,t(265),{positionClass:t(271),timeout:2e3,rtl:!1})}function _0x36b9(){var e=["error","3632846XWNZXk","957916jOUdvE","609014dYbtut","position-absolute top-50 start-50 translate-middle-x","5895756gmwcSZ","4843028tjptxL","844059GORwaX",'<h5 class="text-white px-2 py-2"><i class="feather fa fa-info-circle me-2"></i> Error  </h5>',"1361475LYODcl","success",'<h5 class="text-white px-1 py-1"> Success  </h5>','<h5 class="text-white px-1 py-1"> Error </h5>'];return(_0x36b9=function(){return e})()}function toastWarning(e){var t=_0x29ac;toastr[t(267)](""+e,t(275),{positionClass:t(271),timeout:2e3,rtl:!1})}function _0x29ac(e,t){var a=_0x36b9();return(_0x29ac=function(e,t){return a[e-=265]})(e,t)}function toastError(e){var t=_0x29ac;toastr.error(""+e,t(266),{positionClass:t(271),timeout:2e3,rtl:!1})}$(document)[_0x59ad9d(197)](function(){actionmen(ElMenuBien,ElMenuLocataire,ElMenuquittance)}),$(_0x59ad9d(195)).on(_0x59ad9d(203),async function(){var e=_0x59ad9d;document[e(181)]("loading_page").style[e(184)]="block",actionmen(this,ElMenuLocataire,ElMenuquittance),loadBien($("#token_")[e(185)]())}),$(_0x59ad9d(178)).on(_0x59ad9d(203),async function(){var e=_0x59ad9d;document[e(181)](e(191))[e(194)][e(184)]=e(192),actionmen(this,ElMenuBien,ElMenuquittance),loadLocataire($(e(186))[e(185)]())}),$("#menuquittance").on(_0x59ad9d(203),async function(){var e=_0x59ad9d;document[e(181)]("loading_page").style[e(184)]=e(192),actionmen(this,ElMenuBien,ElMenuLocataire),loadquittance($(e(186))[e(185)]())}),function(){for(var e=_0x29ac,t=_0x36b9();;)try{if(916210==+parseInt(e(269))+-parseInt(e(270))/2+parseInt(e(274))/3+parseInt(e(273))/4+parseInt(e(276))/5+-parseInt(e(272))/6+-parseInt(e(268))/7)break;t.push(t.shift())}catch(e){t.push(t.shift())}}();var _0x162907=_0x47d8;async function loadquittance(e){var a=_0x47d8;const t=await fetch(a(191)+e,{method:a(156)}),n=await t[a(148)]();$[a(181)]("pages/components/quittance/index.ejs",function(e){var t=a,e=ejs[t(178)](e,{listes:n});$(t(134))[t(129)](),$("#contentWrapper")[t(161)](e),$(t(165))[t(201)](),document.getElementById(t(183))[t(159)][t(131)]="none"})}function _0x47d8(e,t){var a=_0x3617();return(_0x47d8=function(e,t){return a[e-=128]})(e,t)}function _0x3617(){var e=["bien","#table_appartement","ajax","block","#token_","#locataire_id_list","4879400QtCPxR","find","#close-modal-delete-quittance",":selected","facture/","pages/components/quittance/nouveau_quittance.ejs","click","#pu","render","#form-bon-commande tr","status","get","name","loading_page","val","#quittanceiddelete","773136wpZcBt","message",'[name="pu[]"]',"then","/locataire/","/factures/","#list_bien","8448935wYDBWA","72JlfNpL","#total_ttc","#name_appartement","/locataires/","quittanceiddelete","text","288842CJXhIR","dataTable","loyer",'[name="tva[]"]'," </p>"," AR","empty","/detail-quittance/","display","value","#tva","#contentWrapper","none","442379jNQCsd",'[name="charge[]"]',"each","Donnée invalide","pages/components/quittance/quittance.ejs","getElementById","/send-mail-locataire/","#ref","POST","application/json","DELETE","#list-quinttage","json","stringify","#charge",'<option value="',"#due_date","342714LKbubN","#total_tva","/type_paiements","GET","_id",".result_montant_ttc","style","#type_paiements","html","#deletequittance","1370160SKBBze"];return(_0x3617=function(){return e})()}async function refreshquittance(e){var a=_0x47d8;const t=await fetch(a(191)+e,{method:"GET"}),n=await t[a(148)]();$.get(a(140),function(e){var t=a,e=ejs[t(178)](e,{listes:n});$(t(147))[t(129)](),$(t(147))[t(161)](e),$(t(165)).dataTable(),document[t(141)](t(183))[t(159)][t(131)]=t(135)})}async function newquittance(){var a=_0x47d8;document[a(141)](a(183))[a(159)][a(131)]=a(167);const e=await fetch(a(197)+$(a(168))[a(184)](),{method:"GET"}),n=await e[a(148)](),t=await fetch(a(155),{method:a(156)}),r=await t[a(148)]();$[a(181)](a(175),function(e){var t=a,e=ejs[t(178)](e,{paiements:r,locataires:n});$("#contentWrapper")[t(129)](),$("#contentWrapper")[t(161)](e),document[t(141)](t(183)).style.display="none"})}async function get_appartement(){var e,t=_0x47d8,a=await(await fetch(t(190)+$(t(169))[t(171)](t(173))[t(184)](),{method:t(156)}))[t(148)]();a&&(e="",e+=t(151)+a[t(164)][t(157)]+'">'+a[t(164)][t(182)]+"</option>",$("#list_bien")[t(129)](),$(t(192)).html(e),e="",e=(e+=a[t(164)][t(182)])+" <p> avec une surface de "+a[t(164)].surface+t(204),$(t(196))[t(129)](),$(t(196)).html(e),$(t(177))[t(184)](a[t(164)][t(202)]),calcule_tarif())}function calcule_tarif(){var o=_0x47d8,s=0,i=0,c=0,l=0;$(o(179))[o(138)](function(){var e=o,t=parseFloat($(this)[e(171)](e(188))[e(184)]())||0,a=parseFloat($(this)[e(171)](e(137)).val())||0,t=a+t,n=(t=t<=0?0:t)*(parseFloat($(this)[e(171)](e(203))[e(184)]())||0)/100,r=t+(n=n<=0?0:n);s+=t,i+=a,c+=n,l+=r,$(this)[e(171)](".result_montant").text(t+e(128)),$(this)[e(171)](e(158))[e(199)](r+" AR")}),$("#total_ht")[o(161)](s+o(128)),$("#total_charge")[o(161)](i+o(128)),$(o(154)).html(c+o(128)),$(o(195))[o(161)](l+o(128))}function save_quittance(){var a=_0x47d8,e=(document.getElementById(a(183))[a(159)][a(131)]="block",{ref:$(a(143))[a(184)](),charge:$(a(150)).val(),invoice_date:$("#invoice_date")[a(184)](),due_date:$(a(152)).val(),month_rental:$("#month_rental")[a(184)](),pu:$(a(177)).val(),tva:$(a(133))[a(184)](),type_paiement:$(a(160))[a(171)](a(173))[a(184)](),bien:$(a(192))[a(171)](a(173))[a(184)](),locataire:$("#locataire_id_list")[a(171)](a(173))[a(184)]()});$[a(166)]({type:"POST",url:"/facture/"+$(a(168))[a(184)](),data:e,dataType:a(148),success:function(e){var t=a;200==e.status?(document[t(141)](t(183))[t(159)].display=t(135),actionmen(this,ElMenuBien,ElMenuLocataire),loadquittance($("#token_")[t(184)]())):(document[t(141)](t(183))[t(159)][t(131)]=t(135),toastError(e[t(187)]))},error:function(e){var t=a;document.getElementById(t(183))[t(159)][t(131)]="none",toastError(e[t(187)])}})}function sendEmail(t){var n=_0x47d8;document[n(141)](n(183))[n(159)][n(131)]=n(167),$[n(166)]({type:"GET",url:n(130)+t,success:function(e){var a=n;$.ajax({type:a(144),url:a(142)+t,data:{htmlContent:e},success:function(e){var t=a;document[t(141)](t(183))[t(159)][t(131)]=t(135),200==e[t(180)]?toastSuccess(e.message):toastError(e[t(187)])},error:function(e){var t=a;document.getElementById("loading_page")[t(159)][t(131)]="none",toastError(e.message)}})},error:function(e){var t=n;document[t(141)](t(183))[t(159)][t(131)]=t(135),toastError(e[t(187)])}})}function show_modal_delete_quittance(e){var t=_0x47d8;document[t(141)](t(198)).setAttribute(t(132),e)}!function(){for(var e=_0x47d8,t=_0x3617();;)try{if(852093==-parseInt(e(186))+-parseInt(e(200))/2+-parseInt(e(153))/3+parseInt(e(163))/4+parseInt(e(193))/5+-parseInt(e(194))/6*(parseInt(e(136))/7)+parseInt(e(170))/8)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(_0x162907(162)).on(_0x162907(176),function(){var e,a=_0x162907;document[a(141)](a(183))[a(159)].display=a(167),null!=$("#quittanceiddelete").val()&&""!=$(a(185))[a(184)]()?(e=a(174)+$("#quittanceiddelete")[a(184)](),fetch(e,{method:a(146),headers:{"Content-Type":a(145)},body:JSON[a(149)]({})})[a(189)](e=>{var t=a;if(e.ok)return e[t(148)]()})[a(189)](e=>{var t=a;200==e[t(180)]?(toastSuccess(e.message),$(t(172))[t(176)](),refreshquittance($("#token_").val())):(toastError(e[t(187)]),document[t(141)]("loading_page")[t(159)][t(131)]=t(135))}).catch(e=>{var t=a;toastError(e[t(187)]),document[t(141)](t(183))[t(159)][t(131)]=t(135)})):(toastError(a(139)),document.getElementById("loading_page")[a(159)].display=a(135))});var _0x1ea817=_0x2e86;function _0x2e86(e,t){var a=_0x529e();return(_0x2e86=function(e,t){return a[e-=364]})(e,t)}function search(){var e=_0x2e86,t=$("#table_appartement,#table_member,#table_contact_team , #table_contact, #table_call_history")[e(374)](),a=document[e(370)]("searchContact");t.search(a[e(386)])[e(368)]()}function _0x529e(){var e=["#phone_user_connected","49fKtwXU","1443sMZfJp","1144984gYYVxK","first_name","/user-connected","message","username","58337gokGgX","json","value","8604252vNJfmF","#token_","12370250HQaDVY","GET","attr","ready","3259780SOLNCR","#email_user_connected","draw","46kHBGtM","getElementById","phone","_id","1852bJTxHI","DataTable","3060270TeliFp"];return(_0x529e=function(){return e})()}async function connected(){var t=_0x2e86;try{var e=await(await fetch(t(381),{method:t(390)}))[t(385)]();e&&($("#name_user_connected").html(e[t(380)]+" "+e.last_name),$(t(367)).html(e[t(383)]),$(t(376)).html(e[t(371)]),$(t(388))[t(364)](t(386),""+e[t(372)]),loadBien(e[t(372)]))}catch(e){toastError(e[t(382)])}}!function(){for(var e=_0x2e86,t=_0x529e();;)try{if(763817==+parseInt(e(384))*(-parseInt(e(369))/2)+parseInt(e(378))/3*(parseInt(e(373))/4)+parseInt(e(366))/5+parseInt(e(375))/6+parseInt(e(377))/7*(parseInt(e(379))/8)+parseInt(e(387))/9+-parseInt(e(389))/10)break;t.push(t.shift())}catch(e){t.push(t.shift())}}(),$(document)[_0x1ea817(365)](function(){connected()});