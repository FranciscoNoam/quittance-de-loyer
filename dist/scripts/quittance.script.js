(function(_0x37ad28,_0x332f9a){var _0x3c2ae1=_0x4729,_0x1e0732=_0x37ad28();while(!![]){try{var _0x415ac4=-parseInt(_0x3c2ae1(0xe2))/0x1*(-parseInt(_0x3c2ae1(0xfe))/0x2)+-parseInt(_0x3c2ae1(0x112))/0x3+-parseInt(_0x3c2ae1(0xd1))/0x4*(-parseInt(_0x3c2ae1(0xdf))/0x5)+-parseInt(_0x3c2ae1(0xd0))/0x6*(-parseInt(_0x3c2ae1(0xea))/0x7)+parseInt(_0x3c2ae1(0xd8))/0x8+-parseInt(_0x3c2ae1(0xe8))/0x9+-parseInt(_0x3c2ae1(0xda))/0xa;if(_0x415ac4===_0x332f9a)break;else _0x1e0732['push'](_0x1e0732['shift']());}catch(_0x415ca6){_0x1e0732['push'](_0x1e0732['shift']());}}}(_0x57b7,0x96523));function _0x4729(_0xa1d65d,_0x546ce5){var _0x57b782=_0x57b7();return _0x4729=function(_0x4729f9,_0x3181e6){_0x4729f9=_0x4729f9-0xc8;var _0x27fd2d=_0x57b782[_0x4729f9];return _0x27fd2d;},_0x4729(_0xa1d65d,_0x546ce5);}async function loadquittance(_0x1a6e45){var _0x333801=_0x4729;const _0x294290=await fetch(_0x333801(0xcd)+_0x1a6e45,{'method':'GET'}),_0x3f052f=await _0x294290[_0x333801(0xeb)]();$[_0x333801(0x109)](_0x333801(0x10b),function(_0x1f3adb){var _0x30dae0=_0x333801;const _0xf826d5=ejs[_0x30dae0(0x10c)](_0x1f3adb,{'listes':_0x3f052f});$(_0x30dae0(0xe3))[_0x30dae0(0xee)](),$(_0x30dae0(0xe3))[_0x30dae0(0xf2)](_0xf826d5),$(_0x30dae0(0xd2))['dataTable'](),document[_0x30dae0(0xe4)](_0x30dae0(0xec))[_0x30dae0(0xfa)]['display']=_0x30dae0(0xce);});}async function refreshquittance(_0x289f90){var _0x6c080c=_0x4729;const _0x521c24=await fetch(_0x6c080c(0xcd)+_0x289f90,{'method':_0x6c080c(0xef)}),_0x1f6c36=await _0x521c24['json']();$[_0x6c080c(0x109)]('pages/components/quittance/quittance.ejs',function(_0x21a618){var _0x1a8501=_0x6c080c;const _0x550a54=ejs['render'](_0x21a618,{'listes':_0x1f6c36});$('#list-quinttage')['empty'](),$('#list-quinttage')[_0x1a8501(0xf2)](_0x550a54),$(_0x1a8501(0xd2))[_0x1a8501(0xe0)](),document['getElementById'](_0x1a8501(0xec))[_0x1a8501(0xfa)][_0x1a8501(0xf8)]=_0x1a8501(0xce);});}async function newquittance(){var _0x1de480=_0x4729;document[_0x1de480(0xe4)]('loading_page')[_0x1de480(0xfa)][_0x1de480(0xf8)]=_0x1de480(0xf4);const _0x7d5a28=await fetch(_0x1de480(0xf5)+$('#token_')['val'](),{'method':_0x1de480(0xef)}),_0x37c22e=await _0x7d5a28[_0x1de480(0xeb)](),_0x54c0aa=await fetch(_0x1de480(0xe1),{'method':_0x1de480(0xef)}),_0x5b9c33=await _0x54c0aa[_0x1de480(0xeb)]();$[_0x1de480(0x109)](_0x1de480(0xd9),function(_0x2b2f5a){var _0xa57018=_0x1de480;const _0x53b27e=ejs[_0xa57018(0x10c)](_0x2b2f5a,{'paiements':_0x5b9c33,'locataires':_0x37c22e});$(_0xa57018(0xe3))[_0xa57018(0xee)](),$(_0xa57018(0xe3))[_0xa57018(0xf2)](_0x53b27e),document[_0xa57018(0xe4)]('loading_page')['style']['display']=_0xa57018(0xce);});}async function get_appartement(){var _0x9266d5=_0x4729;const _0x3f389e=await fetch(_0x9266d5(0xe7)+$(_0x9266d5(0x10d))[_0x9266d5(0xf7)](_0x9266d5(0x102))[_0x9266d5(0xe5)](),{'method':_0x9266d5(0xef)}),_0x3a6ee0=await _0x3f389e[_0x9266d5(0xeb)]();if(_0x3a6ee0){var _0x4537f6='';_0x4537f6+=_0x9266d5(0xfd)+_0x3a6ee0['bien'][_0x9266d5(0xdc)]+'\x22>'+_0x3a6ee0[_0x9266d5(0xdb)][_0x9266d5(0xed)]+_0x9266d5(0x114),$(_0x9266d5(0x110))[_0x9266d5(0xee)](),$(_0x9266d5(0x110))['html'](_0x4537f6);var _0x20204c='';_0x20204c+=_0x3a6ee0[_0x9266d5(0xdb)][_0x9266d5(0xed)],_0x20204c+='\x20<p>\x20avec\x20une\x20surface\x20de\x20'+_0x3a6ee0[_0x9266d5(0xdb)]['surface']+_0x9266d5(0x108),$('#name_appartement')[_0x9266d5(0xee)](),$(_0x9266d5(0xe6))['html'](_0x20204c),$(_0x9266d5(0xff))['val'](_0x3a6ee0[_0x9266d5(0xdb)][_0x9266d5(0xf0)]),calcule_tarif();}}function calcule_tarif(){var _0x42f610=_0x4729,_0x26de5a=0x0,_0x4321fb=0x0,_0x3e97e4=0x0,_0x13de43=0x0;$(_0x42f610(0xf6))[_0x42f610(0x103)](function(){var _0x10d212=_0x42f610,_0x4828df=parseFloat($(this)[_0x10d212(0xf7)](_0x10d212(0xcc))['val']())||0x0,_0x445593=parseFloat($(this)['find'](_0x10d212(0x105))[_0x10d212(0xe5)]())||0x0,_0x256e19=_0x445593+_0x4828df,_0x633b87=_0x256e19;_0x633b87=_0x633b87<=0x0?0x0:_0x633b87;var _0x17d638=parseFloat($(this)[_0x10d212(0xf7)](_0x10d212(0x113))[_0x10d212(0xe5)]())||0x0,_0x1d47b4=_0x633b87*_0x17d638/0x64;_0x1d47b4=_0x1d47b4<=0x0?0x0:_0x1d47b4;var _0x3c7235=_0x633b87+_0x1d47b4;_0x26de5a+=_0x633b87,_0x4321fb+=_0x445593,_0x3e97e4+=_0x1d47b4,_0x13de43+=_0x3c7235,$(this)[_0x10d212(0xf7)](_0x10d212(0xde))[_0x10d212(0x101)](_0x633b87+_0x10d212(0x111)),$(this)['find']('.result_montant_ttc')['text'](_0x3c7235+_0x10d212(0x111));}),$('#total_ht')[_0x42f610(0xf2)](_0x26de5a+_0x42f610(0x111)),$(_0x42f610(0xd3))[_0x42f610(0xf2)](_0x4321fb+_0x42f610(0x111)),$(_0x42f610(0xd5))[_0x42f610(0xf2)](_0x3e97e4+'\x20AR'),$(_0x42f610(0x107))[_0x42f610(0xf2)](_0x13de43+'\x20AR');}function save_quittance(){var _0x599c04=_0x4729;document[_0x599c04(0xe4)](_0x599c04(0xec))[_0x599c04(0xfa)][_0x599c04(0xf8)]=_0x599c04(0xf4);var _0x307c68={'ref':$(_0x599c04(0xca))[_0x599c04(0xe5)](),'charge':$(_0x599c04(0x10e))[_0x599c04(0xe5)](),'invoice_date':$('#invoice_date')['val'](),'due_date':$(_0x599c04(0xd6))[_0x599c04(0xe5)](),'month_rental':$(_0x599c04(0xe9))[_0x599c04(0xe5)](),'pu':$(_0x599c04(0xff))[_0x599c04(0xe5)](),'tva':$('#tva')[_0x599c04(0xe5)](),'type_paiement':$(_0x599c04(0x104))[_0x599c04(0xf7)](_0x599c04(0x102))[_0x599c04(0xe5)](),'bien':$(_0x599c04(0x110))[_0x599c04(0xf7)](':selected')[_0x599c04(0xe5)](),'locataire':$(_0x599c04(0x10d))[_0x599c04(0xf7)](':selected')[_0x599c04(0xe5)]()};$[_0x599c04(0xd7)]({'type':_0x599c04(0xf1),'url':_0x599c04(0xc9)+$('#token_')[_0x599c04(0xe5)](),'data':_0x307c68,'dataType':'json','success':function(_0xffc3cb){var _0x4c1518=_0x599c04;_0xffc3cb[_0x4c1518(0xc8)]==0xc8?(document[_0x4c1518(0xe4)]('loading_page')[_0x4c1518(0xfa)][_0x4c1518(0xf8)]='none',actionmen(this,ElMenuBien,ElMenuLocataire),loadquittance($('#token_')[_0x4c1518(0xe5)]())):(document['getElementById'](_0x4c1518(0xec))['style']['display']=_0x4c1518(0xce),toastError(_0xffc3cb[_0x4c1518(0xcf)]));},'error':function(_0x30adb3){var _0x2bb6de=_0x599c04;document[_0x2bb6de(0xe4)](_0x2bb6de(0xec))[_0x2bb6de(0xfa)]['display']=_0x2bb6de(0xce),toastError(_0x30adb3['message']);}});}function sendEmail(_0x47de73){var _0x4ad07f=_0x4729;document[_0x4ad07f(0xe4)](_0x4ad07f(0xec))[_0x4ad07f(0xfa)][_0x4ad07f(0xf8)]=_0x4ad07f(0xf4),$['ajax']({'type':_0x4ad07f(0xef),'url':'/detail-quittance/'+_0x47de73,'success':function(_0x1f2d26){var _0x4168b1=_0x4ad07f;const _0x2fd3a5=_0x1f2d26;$[_0x4168b1(0xd7)]({'type':_0x4168b1(0xf1),'url':'/send-mail-locataire/'+_0x47de73,'data':{'htmlContent':_0x2fd3a5},'success':function(_0x269330){var _0x1b8fb1=_0x4168b1;document[_0x1b8fb1(0xe4)](_0x1b8fb1(0xec))[_0x1b8fb1(0xfa)][_0x1b8fb1(0xf8)]=_0x1b8fb1(0xce),_0x269330[_0x1b8fb1(0xc8)]==0xc8?toastSuccess(_0x269330[_0x1b8fb1(0xcf)]):toastError(_0x269330[_0x1b8fb1(0xcf)]);},'error':function(_0x1b7b11){var _0x37490d=_0x4168b1;document[_0x37490d(0xe4)](_0x37490d(0xec))[_0x37490d(0xfa)]['display']=_0x37490d(0xce),toastError(_0x1b7b11[_0x37490d(0xcf)]);}});},'error':function(_0x5c9ab7){var _0x1db41f=_0x4ad07f;document[_0x1db41f(0xe4)](_0x1db41f(0xec))['style'][_0x1db41f(0xf8)]='none',toastError(_0x5c9ab7[_0x1db41f(0xcf)]);}});}function _0x57b7(){var _0x170f6e=['each','#type_paiements','[name=\x22charge[]\x22]','application/json','#total_ttc','\x20</p>','get','#token_','pages/components/quittance/index.ejs','render','#locataire_id_list','#charge','facture/','#list_bien','\x20AR','475398XBPiwB','[name=\x22tva[]\x22]','</option>','status','/facture/','#ref','click','[name=\x22pu[]\x22]','/factures/','none','message','33432cBovGU','820MasvKY','#table_appartement','#total_charge','#quittanceiddelete','#total_tva','#due_date','ajax','3718584EyejfR','pages/components/quittance/nouveau_quittance.ejs','15079330nrACuk','bien','_id','quittanceiddelete','.result_montant','2515qfHDDp','dataTable','/type_paiements','424667NLCwdi','#contentWrapper','getElementById','val','#name_appartement','/locataire/','3098538OKbFOv','#month_rental','1519DRtpDJ','json','loading_page','name','empty','GET','loyer','POST','html','then','block','/locataires/','#form-bon-commande\x20tr','find','display','value','style','setAttribute','Donn√©e\x20invalide','<option\x20value=\x22','4ZEbeUS','#pu','DELETE','text',':selected'];_0x57b7=function(){return _0x170f6e;};return _0x57b7();}function show_modal_delete_quittance(_0x2ab966){var _0x4ebd3c=_0x4729;document[_0x4ebd3c(0xe4)](_0x4ebd3c(0xdd))[_0x4ebd3c(0xfb)](_0x4ebd3c(0xf9),_0x2ab966);}$('#deletequittance')['on']('click',function(){var _0x52d90d=_0x4729;document[_0x52d90d(0xe4)](_0x52d90d(0xec))[_0x52d90d(0xfa)][_0x52d90d(0xf8)]=_0x52d90d(0xf4);if($(_0x52d90d(0xd4))[_0x52d90d(0xe5)]()!=null&&$('#quittanceiddelete')[_0x52d90d(0xe5)]()!=''){var _0xfb424a=_0x52d90d(0x10f)+$(_0x52d90d(0xd4))[_0x52d90d(0xe5)]();fetch(_0xfb424a,{'method':_0x52d90d(0x100),'headers':{'Content-Type':_0x52d90d(0x106)},'body':JSON['stringify']({})})[_0x52d90d(0xf3)](_0x18dd58=>{var _0x4ba296=_0x52d90d;if(_0x18dd58['ok'])return _0x18dd58[_0x4ba296(0xeb)]();})[_0x52d90d(0xf3)](_0xd21f7e=>{var _0x3e9518=_0x52d90d;_0xd21f7e[_0x3e9518(0xc8)]==0xc8?(toastSuccess(_0xd21f7e[_0x3e9518(0xcf)]),$('#close-modal-delete-quittance')[_0x3e9518(0xcb)](),refreshquittance($(_0x3e9518(0x10a))[_0x3e9518(0xe5)]())):(toastError(_0xd21f7e['message']),document[_0x3e9518(0xe4)](_0x3e9518(0xec))['style'][_0x3e9518(0xf8)]=_0x3e9518(0xce));})['catch'](_0x456081=>{var _0x55891b=_0x52d90d;toastError(_0x456081['message']),document[_0x55891b(0xe4)](_0x55891b(0xec))[_0x55891b(0xfa)][_0x55891b(0xf8)]=_0x55891b(0xce);});}else toastError(_0x52d90d(0xfc)),document[_0x52d90d(0xe4)]('loading_page')[_0x52d90d(0xfa)][_0x52d90d(0xf8)]=_0x52d90d(0xce);});