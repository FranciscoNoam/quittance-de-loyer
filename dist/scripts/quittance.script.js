var _0x162907=_0x47d8;(function(_0x3e2709,_0x35ccfc){var _0x705a2d=_0x47d8,_0x28700a=_0x3e2709();while(!![]){try{var _0x1482a6=-parseInt(_0x705a2d(0xba))/0x1+-parseInt(_0x705a2d(0xc8))/0x2+-parseInt(_0x705a2d(0x99))/0x3+parseInt(_0x705a2d(0xa3))/0x4+parseInt(_0x705a2d(0xc1))/0x5+-parseInt(_0x705a2d(0xc2))/0x6*(parseInt(_0x705a2d(0x88))/0x7)+parseInt(_0x705a2d(0xaa))/0x8;if(_0x1482a6===_0x35ccfc)break;else _0x28700a['push'](_0x28700a['shift']());}catch(_0x54d574){_0x28700a['push'](_0x28700a['shift']());}}}(_0x3617,0xd007d));async function loadquittance(_0x5aba8a){var _0x5bcc70=_0x47d8;const _0x190c47=await fetch(_0x5bcc70(0xbf)+_0x5aba8a,{'method':_0x5bcc70(0x9c)}),_0x4937c9=await _0x190c47[_0x5bcc70(0x94)]();$[_0x5bcc70(0xb5)]('pages/components/quittance/index.ejs',function(_0x2a45f5){var _0x56c3eb=_0x5bcc70;const _0x4f7213=ejs[_0x56c3eb(0xb2)](_0x2a45f5,{'listes':_0x4937c9});$(_0x56c3eb(0x86))[_0x56c3eb(0x81)](),$('#contentWrapper')[_0x56c3eb(0xa1)](_0x4f7213),$(_0x56c3eb(0xa5))[_0x56c3eb(0xc9)](),document['getElementById'](_0x56c3eb(0xb7))[_0x56c3eb(0x9f)][_0x56c3eb(0x83)]='none';});}function _0x47d8(_0x375f46,_0x39a0d4){var _0x361772=_0x3617();return _0x47d8=function(_0x47d89a,_0x33f433){_0x47d89a=_0x47d89a-0x80;var _0x298cab=_0x361772[_0x47d89a];return _0x298cab;},_0x47d8(_0x375f46,_0x39a0d4);}function _0x3617(){var _0x2a639e=['bien','#table_appartement','ajax','block','#token_','#locataire_id_list','4879400QtCPxR','find','#close-modal-delete-quittance',':selected','facture/','pages/components/quittance/nouveau_quittance.ejs','click','#pu','render','#form-bon-commande\x20tr','status','get','name','loading_page','val','#quittanceiddelete','773136wpZcBt','message','[name=\x22pu[]\x22]','then','/locataire/','/factures/','#list_bien','8448935wYDBWA','72JlfNpL','#total_ttc','#name_appartement','/locataires/','quittanceiddelete','text','288842CJXhIR','dataTable','loyer','[name=\x22tva[]\x22]','\x20</p>','\x20AR','empty','/detail-quittance/','display','value','#tva','#contentWrapper','none','442379jNQCsd','[name=\x22charge[]\x22]','each','Donn√©e\x20invalide','pages/components/quittance/quittance.ejs','getElementById','/send-mail-locataire/','#ref','POST','application/json','DELETE','#list-quinttage','json','stringify','#charge','<option\x20value=\x22','#due_date','342714LKbubN','#total_tva','/type_paiements','GET','_id','.result_montant_ttc','style','#type_paiements','html','#deletequittance','1370160SKBBze'];_0x3617=function(){return _0x2a639e;};return _0x3617();}async function refreshquittance(_0x2414c6){var _0xa8d046=_0x47d8;const _0x2b7787=await fetch(_0xa8d046(0xbf)+_0x2414c6,{'method':'GET'}),_0x391702=await _0x2b7787[_0xa8d046(0x94)]();$['get'](_0xa8d046(0x8c),function(_0x12e5ac){var _0x571a11=_0xa8d046;const _0x4eb5e9=ejs[_0x571a11(0xb2)](_0x12e5ac,{'listes':_0x391702});$(_0x571a11(0x93))[_0x571a11(0x81)](),$(_0x571a11(0x93))[_0x571a11(0xa1)](_0x4eb5e9),$(_0x571a11(0xa5))['dataTable'](),document[_0x571a11(0x8d)](_0x571a11(0xb7))[_0x571a11(0x9f)][_0x571a11(0x83)]=_0x571a11(0x87);});}async function newquittance(){var _0x58b3f8=_0x47d8;document[_0x58b3f8(0x8d)](_0x58b3f8(0xb7))[_0x58b3f8(0x9f)][_0x58b3f8(0x83)]=_0x58b3f8(0xa7);const _0x360cb4=await fetch(_0x58b3f8(0xc5)+$(_0x58b3f8(0xa8))[_0x58b3f8(0xb8)](),{'method':'GET'}),_0x117b5c=await _0x360cb4[_0x58b3f8(0x94)](),_0x2e1a01=await fetch(_0x58b3f8(0x9b),{'method':_0x58b3f8(0x9c)}),_0x518893=await _0x2e1a01[_0x58b3f8(0x94)]();$[_0x58b3f8(0xb5)](_0x58b3f8(0xaf),function(_0x4f6e65){var _0x50c709=_0x58b3f8;const _0x54448c=ejs[_0x50c709(0xb2)](_0x4f6e65,{'paiements':_0x518893,'locataires':_0x117b5c});$('#contentWrapper')[_0x50c709(0x81)](),$('#contentWrapper')[_0x50c709(0xa1)](_0x54448c),document[_0x50c709(0x8d)](_0x50c709(0xb7))['style']['display']='none';});}async function get_appartement(){var _0x4acc19=_0x47d8;const _0x21a2d9=await fetch(_0x4acc19(0xbe)+$(_0x4acc19(0xa9))[_0x4acc19(0xab)](_0x4acc19(0xad))[_0x4acc19(0xb8)](),{'method':_0x4acc19(0x9c)}),_0x4a4cdc=await _0x21a2d9[_0x4acc19(0x94)]();if(_0x4a4cdc){var _0x5709ef='';_0x5709ef+=_0x4acc19(0x97)+_0x4a4cdc[_0x4acc19(0xa4)][_0x4acc19(0x9d)]+'\x22>'+_0x4a4cdc[_0x4acc19(0xa4)][_0x4acc19(0xb6)]+'</option>',$('#list_bien')[_0x4acc19(0x81)](),$(_0x4acc19(0xc0))['html'](_0x5709ef);var _0x27b483='';_0x27b483+=_0x4a4cdc[_0x4acc19(0xa4)][_0x4acc19(0xb6)],_0x27b483+='\x20<p>\x20avec\x20une\x20surface\x20de\x20'+_0x4a4cdc[_0x4acc19(0xa4)]['surface']+_0x4acc19(0xcc),$(_0x4acc19(0xc4))[_0x4acc19(0x81)](),$(_0x4acc19(0xc4))['html'](_0x27b483),$(_0x4acc19(0xb1))[_0x4acc19(0xb8)](_0x4a4cdc[_0x4acc19(0xa4)][_0x4acc19(0xca)]),calcule_tarif();}}function calcule_tarif(){var _0x5be56e=_0x47d8,_0x2f289e=0x0,_0x5d82e2=0x0,_0x580d8c=0x0,_0x4910d5=0x0;$(_0x5be56e(0xb3))[_0x5be56e(0x8a)](function(){var _0x39e709=_0x5be56e,_0x585955=parseFloat($(this)[_0x39e709(0xab)](_0x39e709(0xbc))[_0x39e709(0xb8)]())||0x0,_0x3e4662=parseFloat($(this)[_0x39e709(0xab)](_0x39e709(0x89))['val']())||0x0,_0x503a00=_0x3e4662+_0x585955,_0x57b422=_0x503a00;_0x57b422=_0x57b422<=0x0?0x0:_0x57b422;var _0x2723ee=parseFloat($(this)[_0x39e709(0xab)](_0x39e709(0xcb))[_0x39e709(0xb8)]())||0x0,_0x1d2ccf=_0x57b422*_0x2723ee/0x64;_0x1d2ccf=_0x1d2ccf<=0x0?0x0:_0x1d2ccf;var _0x15fb48=_0x57b422+_0x1d2ccf;_0x2f289e+=_0x57b422,_0x5d82e2+=_0x3e4662,_0x580d8c+=_0x1d2ccf,_0x4910d5+=_0x15fb48,$(this)[_0x39e709(0xab)]('.result_montant')['text'](_0x57b422+_0x39e709(0x80)),$(this)[_0x39e709(0xab)](_0x39e709(0x9e))[_0x39e709(0xc7)](_0x15fb48+'\x20AR');}),$('#total_ht')[_0x5be56e(0xa1)](_0x2f289e+_0x5be56e(0x80)),$('#total_charge')[_0x5be56e(0xa1)](_0x5d82e2+_0x5be56e(0x80)),$(_0x5be56e(0x9a))['html'](_0x580d8c+_0x5be56e(0x80)),$(_0x5be56e(0xc3))[_0x5be56e(0xa1)](_0x4910d5+_0x5be56e(0x80));}function save_quittance(){var _0xa15472=_0x47d8;document['getElementById'](_0xa15472(0xb7))[_0xa15472(0x9f)][_0xa15472(0x83)]='block';var _0xcdad3e={'ref':$(_0xa15472(0x8f))[_0xa15472(0xb8)](),'charge':$(_0xa15472(0x96))['val'](),'invoice_date':$('#invoice_date')[_0xa15472(0xb8)](),'due_date':$(_0xa15472(0x98))['val'](),'month_rental':$('#month_rental')[_0xa15472(0xb8)](),'pu':$(_0xa15472(0xb1))['val'](),'tva':$(_0xa15472(0x85))[_0xa15472(0xb8)](),'type_paiement':$(_0xa15472(0xa0))[_0xa15472(0xab)](_0xa15472(0xad))[_0xa15472(0xb8)](),'bien':$(_0xa15472(0xc0))[_0xa15472(0xab)](_0xa15472(0xad))[_0xa15472(0xb8)](),'locataire':$('#locataire_id_list')[_0xa15472(0xab)](_0xa15472(0xad))[_0xa15472(0xb8)]()};$[_0xa15472(0xa6)]({'type':'POST','url':'/facture/'+$(_0xa15472(0xa8))[_0xa15472(0xb8)](),'data':_0xcdad3e,'dataType':_0xa15472(0x94),'success':function(_0x2b5259){var _0x151de1=_0xa15472;_0x2b5259['status']==0xc8?(document[_0x151de1(0x8d)](_0x151de1(0xb7))[_0x151de1(0x9f)]['display']=_0x151de1(0x87),actionmen(this,ElMenuBien,ElMenuLocataire),loadquittance($('#token_')[_0x151de1(0xb8)]())):(document[_0x151de1(0x8d)](_0x151de1(0xb7))[_0x151de1(0x9f)][_0x151de1(0x83)]=_0x151de1(0x87),toastError(_0x2b5259[_0x151de1(0xbb)]));},'error':function(_0x54aba7){var _0x5d9b53=_0xa15472;document['getElementById'](_0x5d9b53(0xb7))[_0x5d9b53(0x9f)][_0x5d9b53(0x83)]='none',toastError(_0x54aba7[_0x5d9b53(0xbb)]);}});}function sendEmail(_0x1e0ef5){var _0x4be955=_0x47d8;document[_0x4be955(0x8d)](_0x4be955(0xb7))[_0x4be955(0x9f)][_0x4be955(0x83)]=_0x4be955(0xa7),$[_0x4be955(0xa6)]({'type':'GET','url':_0x4be955(0x82)+_0x1e0ef5,'success':function(_0x13c2ab){var _0x8cf2c1=_0x4be955;const _0x21a932=_0x13c2ab;$['ajax']({'type':_0x8cf2c1(0x90),'url':_0x8cf2c1(0x8e)+_0x1e0ef5,'data':{'htmlContent':_0x21a932},'success':function(_0x10abc5){var _0x1d787a=_0x8cf2c1;document[_0x1d787a(0x8d)](_0x1d787a(0xb7))[_0x1d787a(0x9f)][_0x1d787a(0x83)]=_0x1d787a(0x87),_0x10abc5[_0x1d787a(0xb4)]==0xc8?toastSuccess(_0x10abc5['message']):toastError(_0x10abc5[_0x1d787a(0xbb)]);},'error':function(_0x36a107){var _0x481700=_0x8cf2c1;document['getElementById']('loading_page')[_0x481700(0x9f)][_0x481700(0x83)]='none',toastError(_0x36a107['message']);}});},'error':function(_0x12a3ce){var _0x4c1ead=_0x4be955;document[_0x4c1ead(0x8d)](_0x4c1ead(0xb7))[_0x4c1ead(0x9f)][_0x4c1ead(0x83)]=_0x4c1ead(0x87),toastError(_0x12a3ce[_0x4c1ead(0xbb)]);}});}function show_modal_delete_quittance(_0x57fa34){var _0x2fa397=_0x47d8;document[_0x2fa397(0x8d)](_0x2fa397(0xc6))['setAttribute'](_0x2fa397(0x84),_0x57fa34);}$(_0x162907(0xa2))['on'](_0x162907(0xb0),function(){var _0x419dcf=_0x162907;document[_0x419dcf(0x8d)](_0x419dcf(0xb7))[_0x419dcf(0x9f)]['display']=_0x419dcf(0xa7);if($('#quittanceiddelete')['val']()!=null&&$(_0x419dcf(0xb9))[_0x419dcf(0xb8)]()!=''){var _0x542b46=_0x419dcf(0xae)+$('#quittanceiddelete')[_0x419dcf(0xb8)]();fetch(_0x542b46,{'method':_0x419dcf(0x92),'headers':{'Content-Type':_0x419dcf(0x91)},'body':JSON[_0x419dcf(0x95)]({})})[_0x419dcf(0xbd)](_0x157a11=>{var _0x194a36=_0x419dcf;if(_0x157a11['ok'])return _0x157a11[_0x194a36(0x94)]();})[_0x419dcf(0xbd)](_0x162071=>{var _0x20ab77=_0x419dcf;_0x162071[_0x20ab77(0xb4)]==0xc8?(toastSuccess(_0x162071['message']),$(_0x20ab77(0xac))[_0x20ab77(0xb0)](),refreshquittance($('#token_')['val']())):(toastError(_0x162071[_0x20ab77(0xbb)]),document[_0x20ab77(0x8d)]('loading_page')[_0x20ab77(0x9f)][_0x20ab77(0x83)]=_0x20ab77(0x87));})['catch'](_0x4ccd73=>{var _0x7beb7=_0x419dcf;toastError(_0x4ccd73[_0x7beb7(0xbb)]),document[_0x7beb7(0x8d)](_0x7beb7(0xb7))[_0x7beb7(0x9f)][_0x7beb7(0x83)]=_0x7beb7(0x87);});}else toastError(_0x419dcf(0x8b)),document['getElementById']('loading_page')[_0x419dcf(0x9f)]['display']=_0x419dcf(0x87);});